<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi ti·∫øt ph√≤ng - BookNow</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            DEFAULT: '#2563eb', // blue-600
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .gradient-text {
            background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">

<!-- === LOGO (Fixed Top-Left) === -->
<div style="position: fixed; top: 25px; left: 25px; z-index: 100;"
     class="bg-white/90 backdrop-blur px-4 py-2 rounded-xl shadow-sm border border-white/50 transition-all hover:shadow-md">
    <div class="flex items-center gap-3 cursor-pointer" onclick="window.location.href='index.html'">
        <div class="w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center border border-blue-100">
            <i class="fa-solid fa-house-chimney gradient-icon text-xl text-blue-600"></i>
        </div>
        <div class="flex flex-col justify-center">
            <span class="text-2xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-br from-blue-500 to-blue-700 leading-none">BookNow</span>
        </div>
    </div>
</div>

<!-- === AUTH BUTTONS (Fixed Top-Right) === -->
<div style="position: fixed; top: 25px; right: 25px; z-index: 100;" class="flex items-center gap-3">
    <button onclick="window.location.href='login_customer.html'"
            class="px-4 py-2.5 text-sm font-semibold text-gray-700 bg-white/90 backdrop-blur rounded-xl shadow-sm border border-white/50 hover:text-blue-600 hover:bg-white transition-all">
        ƒêƒÉng nh·∫≠p
    </button>
    <button class="px-4 py-2.5 text-sm font-bold text-white bg-blue-600 rounded-xl shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all transform hover:-translate-y-0.5 active:translate-y-0">
        ƒêƒÉng k√Ω
    </button>
</div>

<!-- Main Container -->
<div th:each="room : ${roomDetail}" class="max-w-7xl mx-auto px-4 md:px-8 pt-32 pb-12">

    <!-- Breadcrumb -->
    <nav class="flex mb-6 text-sm text-gray-500 pl-2">
        <a href="index.html" class="hover:text-blue-600">Trang ch·ªß</a>
        <span class="mx-2">/</span>
        <a href="list_room_search.html" class="hover:text-blue-600">T√¨m ki·∫øm</a>
        <span class="mx-2">/</span>
        <span class="text-gray-800 font-medium">Chi ti·∫øt ph√≤ng</span>
    </nav>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

        <!-- LEFT COLUMN: Room Info & Timetable (Chi·∫øm 2/3) -->
        <div class="lg:col-span-2 space-y-8">

            <!-- 1. Room Image & Basic Info -->
            <div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100">
                <div class="relative h-[400px]">
                    <img src="https://images.unsplash.com/photo-1590490360182-c33d57733427?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80"
                         alt="Room Detail"
                         class="w-full h-full object-cover">
                    <div class="absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1.5 rounded-lg text-sm font-bold text-gray-800 shadow-sm flex items-center gap-1">
                        <i class="fa-solid fa-star text-yellow-400"></i> 4.8 (120 ƒë√°nh gi√°)
                    </div>
                </div>

                <div class="p-6 md:p-8">
                    <div class="flex flex-wrap justify-between items-start gap-4 mb-4">
                        <div>
                            <h1 class="text-3xl font-bold text-gray-900 mb-2" th:text="${room.getName()}"></h1>
                            <p class="text-gray-500 flex items-center gap-2">
                                <i class="fa-solid fa-location-dot text-blue-500"></i>
                                T·∫ßng 1, Khu A, View v∆∞·ªùn
                            </p>
                        </div>
                        <div class="text-right">
                            <div class="bg-blue-50 px-4 py-2 rounded-lg border border-blue-100 inline-block">
                                <span class="block text-xs text-gray-500">S·ªë ng∆∞·ªùi t·ªëi ƒëa</span>
                                <span class="text-lg font-bold text-blue-700"><i
                                        class="fa-solid fa-user-group mr-1"></i> <span th:text="${room.getMaxGuest() + ' Ng∆∞·ªùi'}"></span></span>
                            </div>
                        </div>
                    </div>

                    <!-- Price Badges -->
                    <div class="flex gap-4 mb-6 border-b border-gray-100 pb-6">
                        <div class="flex-1 bg-gray-50 p-3 rounded-xl border border-gray-200">
                            <span class="block text-xs text-gray-500 mb-1">Gi√° theo Slot (3h)</span>
                            <span class="text-xl font-bold text-gray-800" th:text="${#numbers.formatDecimal(room.getBasePrice(),0,'POINT',0,'COMMA') + ' ƒë'}"></span>
                        </div>
                        <div class="flex-1 bg-blue-50 p-3 rounded-xl border border-blue-100">
                            <span class="block text-xs text-blue-600 mb-1">Gi√° qua ƒë√™m</span>
                            <span class="text-xl font-bold text-blue-700" th:text="${#numbers.formatDecimal(room.getOverPrice(),0, 'POINT',0,'COMMA') + ' ƒë'} "></span>
                        </div>
                    </div>

                    <!-- Description -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-3">M√¥ t·∫£ ph√≤ng</h3>
                        <p class="text-gray-600 leading-relaxed mb-4" th:text="${room.getDescription()}"></p>
                        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3">
                            <div th:each="icon : ${room.amenityList}"
                                 class="flex items-center gap-2 bg-white border border-gray-200 rounded-xl px-3 py-2 text-sm text-gray-700 shadow-sm hover:border-blue-400 hover:bg-blue-50 transition">
                                <img th:src="${icon.iconUrl}"
                                     alt=""
                                     class="w-5 h-5 object-contain"/>
                                <span th:text="${icon.name}" class="truncate"></span>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- 2. Timetable (L·ªãch ph√≤ng) - INTERACTIVE -->
            <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8">
                <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center gap-2">
                    <i class="fa-regular fa-calendar-check text-blue-600"></i> L·ªãch tr·ªëng ph√≤ng tu·∫ßn n√†y
                </h3>

                <div class="overflow-x-auto custom-scrollbar pb-2">
                    <div class="min-w-[600px]">
                        <!-- Header Days -->
                        <div class="grid grid-cols-8 gap-1 mb-2 text-center">
                            <div class="p-2 text-xs font-bold text-gray-400 uppercase">Slot</div>
                            <div class="bg-gray-100 p-2 rounded text-sm font-semibold text-gray-700">T2<br><span
                                    class="text-xs font-normal">24/6</span></div>
                            <div class="bg-gray-100 p-2 rounded text-sm font-semibold text-gray-700">T3<br><span
                                    class="text-xs font-normal">25/6</span></div>
                            <div class="bg-gray-100 p-2 rounded text-sm font-semibold text-gray-700">T4<br><span
                                    class="text-xs font-normal">26/6</span></div>
                            <div class="bg-blue-100 p-2 rounded text-sm font-semibold text-blue-800 ring-2 ring-blue-200">
                                T5<br><span class="text-xs font-normal">H√¥m nay</span></div>
                            <div class="bg-gray-100 p-2 rounded text-sm font-semibold text-gray-700">T6<br><span
                                    class="text-xs font-normal">28/6</span></div>
                            <div class="bg-gray-100 p-2 rounded text-sm font-semibold text-gray-700">T7<br><span
                                    class="text-xs font-normal">29/6</span></div>
                            <div class="bg-gray-100 p-2 rounded text-sm font-semibold text-gray-700 text-red-500">CN<br><span
                                    class="text-xs font-normal">30/6</span></div>
                        </div>

                        <!-- Slots Rows -->
                        <div class="space-y-1">
                            <!-- Slot 1: 10:30 - 13:30 (150k) -->
                            <div class="grid grid-cols-8 gap-1 items-center">
                                <div class="text-xs font-bold text-gray-500 text-center">Slot 1<br>10:30 - 13:30</div>
                                <button onclick="toggleSlot(this, 'T2 24/6 - Slot 1', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button onclick="toggleSlot(this, 'T3 25/6 - Slot 1', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button class="bg-gray-200 text-gray-400 text-xs py-3 rounded font-medium cursor-not-allowed"
                                        disabled>ƒê√£ ƒë·∫∑t
                                </button>
                                <button onclick="toggleSlot(this, 'T5 27/6 - Slot 1', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition ring-1 ring-green-400 cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button onclick="toggleSlot(this, 'T6 28/6 - Slot 1', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button class="bg-gray-200 text-gray-400 text-xs py-3 rounded font-medium cursor-not-allowed"
                                        disabled>ƒê√£ ƒë·∫∑t
                                </button>
                                <button class="bg-gray-200 text-gray-400 text-xs py-3 rounded font-medium cursor-not-allowed"
                                        disabled>ƒê√£ ƒë·∫∑t
                                </button>
                            </div>

                            <!-- Slot 2: 14:00 - 17:00 (150k) -->
                            <div class="grid grid-cols-8 gap-1 items-center">
                                <div class="text-xs font-bold text-gray-500 text-center">Slot 2<br>14:00 - 17:00</div>
                                <button class="bg-gray-200 text-gray-400 text-xs py-3 rounded font-medium cursor-not-allowed"
                                        disabled>ƒê√£ ƒë·∫∑t
                                </button>
                                <button onclick="toggleSlot(this, 'T3 25/6 - Slot 2', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button onclick="toggleSlot(this, 'T4 26/6 - Slot 2', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button class="bg-gray-200 text-gray-400 text-xs py-3 rounded font-medium cursor-not-allowed"
                                        disabled>ƒê√£ ƒë·∫∑t
                                </button>
                                <button onclick="toggleSlot(this, 'T6 28/6 - Slot 2', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button onclick="toggleSlot(this, 'T7 29/6 - Slot 2', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button onclick="toggleSlot(this, 'CN 30/6 - Slot 2', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                            </div>

                            <!-- Slot 3: 17:30 - 20:30 (150k) -->
                            <div class="grid grid-cols-8 gap-1 items-center">
                                <div class="text-xs font-bold text-gray-500 text-center">Slot 3<br>17:30 - 20:30</div>
                                <button onclick="toggleSlot(this, 'T2 24/6 - Slot 3', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button class="bg-gray-200 text-gray-400 text-xs py-3 rounded font-medium cursor-not-allowed"
                                        disabled>ƒê√£ ƒë·∫∑t
                                </button>
                                <button onclick="toggleSlot(this, 'T4 26/6 - Slot 3', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button onclick="toggleSlot(this, 'T5 27/6 - Slot 3', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition ring-1 ring-green-400 cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button onclick="toggleSlot(this, 'T6 28/6 - Slot 3', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button class="bg-gray-200 text-gray-400 text-xs py-3 rounded font-medium cursor-not-allowed"
                                        disabled>ƒê√£ ƒë·∫∑t
                                </button>
                                <button onclick="toggleSlot(this, 'CN 30/6 - Slot 3', 150000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                            </div>

                            <!-- Qua ƒë√™m: 21:00 - 9:30 (500k) -->
                            <div class="grid grid-cols-8 gap-1 items-center">
                                <div class="text-xs font-bold text-gray-500 text-center">Qua ƒë√™m<br>21:00 - 09:30</div>
                                <button class="bg-gray-200 text-gray-400 text-xs py-3 rounded font-medium cursor-not-allowed"
                                        disabled>ƒê√£ ƒë·∫∑t
                                </button>
                                <button class="bg-gray-200 text-gray-400 text-xs py-3 rounded font-medium cursor-not-allowed"
                                        disabled>ƒê√£ ƒë·∫∑t
                                </button>
                                <button onclick="toggleSlot(this, 'T4 26/6 - Qua ƒë√™m', 500000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button onclick="toggleSlot(this, 'T5 27/6 - Qua ƒë√™m', 500000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition ring-1 ring-green-400 cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button onclick="toggleSlot(this, 'T6 28/6 - Qua ƒë√™m', 500000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button onclick="toggleSlot(this, 'T7 29/6 - Qua ƒë√™m', 500000)"
                                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs py-3 rounded font-medium transition cursor-pointer">
                                    Tr·ªëng
                                </button>
                                <button class="bg-gray-200 text-gray-400 text-xs py-3 rounded font-medium cursor-not-allowed"
                                        disabled>ƒê√£ ƒë·∫∑t
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-4 flex gap-4 text-xs text-gray-500 justify-end">
                    <div class="flex items-center gap-1"><span
                            class="w-3 h-3 rounded bg-green-100 border border-green-200"></span> C√≤n tr·ªëng
                    </div>
                    <div class="flex items-center gap-1"><span
                            class="w-3 h-3 rounded bg-blue-600 border border-blue-600"></span> ƒêang ch·ªçn
                    </div>
                    <div class="flex items-center gap-1"><span class="w-3 h-3 rounded bg-gray-200"></span> ƒê√£ ƒë·∫∑t</div>
                </div>
            </div>

        </div>

        <!-- RIGHT COLUMN: Booking Form (Chi·∫øm 1/3) -->
        <div class="lg:col-span-1">
            <div class="bg-white p-6 rounded-2xl shadow-lg border border-blue-100 sticky top-32" >
                <h2 class="text-xl font-bold text-gray-800 mb-6 border-b border-gray-100 pb-3">Th√¥ng tin ƒë·∫∑t ph√≤ng</h2>

                <form class="space-y-5" th:action="@{/infor}" method="post" th:object="${informBooking}">
                    <div id="slot-hidden-container"></div>

                    <!-- Selected Slots Display -->
                    <div id="selected-slots-container"
                         class="hidden bg-blue-50 p-4 rounded-xl border border-blue-100 transition-all">
                        <h3 class="text-xs font-bold text-blue-700 mb-2 uppercase tracking-wide flex justify-between">
                            Slot ƒëang ch·ªçn:
                        </h3>
                        <ul  id="selected-list" class="space-y-2 text-sm text-gray-700 font-medium mb-3">
                            <!-- JS will add items here -->
                        </ul>

                        <!-- TOTAL PRICE DISPLAY -->
                        <div class="border-t border-blue-200 pt-3 flex justify-between items-center">
                            <span class="text-sm font-semibold text-gray-600">T·ªïng c·ªông:</span>
                            <span id="total-price" class="text-xl font-bold text-red-600">0ƒë</span>
                        </div>
                        <input type="hidden" name="totalAmount" id="totalAmountHidden">


                    </div>

                    <!-- H·ªç t√™n -->
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-1.5">H·ªç v√† t√™n <span
                                class="text-red-500">*</span></label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                <i class="fa-regular fa-user"></i>
                            </div>
                            <input th:field="*{customer.fullName}" type="text" placeholder="Nguy·ªÖn VƒÉn A"
                                   class="w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-sm">
                        </div>
                    </div>

                    <!-- SƒêT & Email -->
                    <div class="grid grid-cols-1 gap-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-1.5">S·ªë ƒëi·ªán tho·∫°i <span
                                    class="text-red-500">*</span></label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                    <i class="fa-solid fa-phone"></i>
                                </div>
                                <input th:field="*{customer.phone}" type="tel" placeholder="09xxxxxxx"
                                       class="w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-sm">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-1.5">Email</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                    <i class="fa-regular fa-envelope"></i>
                                </div>
                                <input th:field="*{customer.email}" type="email" placeholder="example@mail.com"
                                       class="w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-sm">
                            </div>
                        </div>
                    </div>

                    <!-- Upload CCCD -->
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">·∫¢nh CCCD/CMND (2 m·∫∑t) <span
                                class="text-red-500">*</span></label>
                        <div class="grid grid-cols-2 gap-3">
                            <!-- M·∫∑t tr∆∞·ªõc -->
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors group">
                                <i class="fa-solid fa-id-card text-2xl text-gray-400 group-hover:text-blue-500 mb-1"></i>
                                <p class="text-xs text-gray-500 font-medium">M·∫∑t tr∆∞·ªõc</p>
                                <input type="file" class="hidden">
                            </div>
                            <!-- M·∫∑t sau -->
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors group">
                                <i class="fa-solid fa-id-card text-2xl text-gray-400 group-hover:text-blue-500 mb-1"></i>
                                <p class="text-xs text-gray-500 font-medium">M·∫∑t sau</p>
                                <input type="file" class="hidden">
                            </div>
                        </div>
                    </div>

                    <!-- Note -->
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-1.5">Ghi ch√∫</label>
                        <textarea rows="2" placeholder="Y√™u c·∫ßu ƒë·∫∑c bi·ªát..."
                                  class="w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-sm"></textarea>
                    </div>

                    <!-- Terms -->
                    <div class="flex items-start gap-3 mt-2">
                        <input type="checkbox" id="terms"
                               class="mt-1 w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500">
                        <label for="terms" class="text-xs text-gray-500 cursor-pointer">
                            T√¥i ƒë·ªìng √Ω v·ªõi <a href="#" class="text-blue-600 hover:underline">ƒëi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a> v√†
                            <a href="#" class="text-blue-600 hover:underline">ch√≠nh s√°ch b·∫£o m·∫≠t</a> c·ªßa BookNow.
                        </label>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit"
                            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-500/30 transition-all transform hover:-translate-y-0.5 active:translate-y-0 mt-4">
                        X√°c nh·∫≠n ƒê·∫∑t ph√≤ng
                    </button>

                </form>
            </div>
        </div>

    </div>

</div>

<!-- Script for Interaction -->
<script>
    // Store selected slots as Map: Key=Name, Value=Price
    const selectedSlotsMap = new Map();

    const selectedListEl = document.getElementById('selected-list');
    const containerEl = document.getElementById('selected-slots-container');
    const totalPriceEl = document.getElementById('total-price');

    // Helper to format currency
    const formatCurrency = (amount) => {
        return new Intl.NumberFormat('vi-VN', {style: 'currency', currency: 'VND'}).format(amount);
    };
    function syncHiddenSlots() {
        const container = document.getElementById("slot-hidden-container");
        container.innerHTML = ""; // reset

        selectedSlotsMap.forEach((price, slotName) => {
            const input = document.createElement("input");
            input.type = "hidden";
            input.name = "slot"; // QUAN TR·ªåNG: tr√πng t√™n field backend
            input.value = slotName;
            container.appendChild(input);
        });
    }

    function toggleSlot(btn, slotName, price) {
        // CSS classes
        const availableClasses = ['bg-green-100', 'text-green-700', 'hover:bg-green-200'];
        const selectedClasses = ['bg-blue-600', 'text-white', 'hover:bg-blue-700', 'shadow-md', 'ring-2', 'ring-blue-300', 'scale-105'];

        if (btn.classList.contains('bg-blue-600')) {
            // Deselect logic
            btn.classList.remove(...selectedClasses);
            btn.classList.add(...availableClasses);
            btn.innerHTML = 'Tr·ªëng'; // Reset text

            // Remove from Map
            selectedSlotsMap.delete(slotName);
        } else {
            // Select logic
            btn.classList.remove(...availableClasses);
            btn.classList.add(...selectedClasses);
            btn.innerHTML = '<i class="fa-solid fa-check"></i>'; // Checked icon

            // Add to Map
            selectedSlotsMap.set(slotName, price);
        }

        updateSelectedDisplay();
        syncHiddenSlots();
    }

    function updateSelectedDisplay() {
        selectedListEl.innerHTML = "";

        let total = 0;

        selectedSlotsMap.forEach((price, slotName) => {
            const li = document.createElement("li");
            li.className = "flex justify-between";

            li.innerHTML = `
            <span>${slotName}</span>
            <span class="text-red-500 font-semibold">${formatCurrency(price)}</span>
        `;

            selectedListEl.appendChild(li);
            total += price;
        });

        totalPriceEl.textContent = formatCurrency(total);

        // üî• D√íNG QUAN TR·ªåNG
        document.getElementById("totalAmountHidden").value = total;

        // show / hide container
        if (selectedSlotsMap.size > 0) {
            containerEl.classList.remove("hidden");
        } else {
            containerEl.classList.add("hidden");
        }
    }


</script>

</body>
</html>